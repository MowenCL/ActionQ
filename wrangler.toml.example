# ================================================
# ActionQ - Configuración de Cloudflare Workers
# ================================================
# 
# INSTRUCCIONES:
# 1. Copia este archivo: cp wrangler.toml.example wrangler.toml
# 2. Crea tu base de datos D1: npx wrangler d1 create actionq_db
# 3. Copia el database_id generado y reemplaza "YOUR-D1-DATABASE-ID" abajo
# 4. ¡Listo! Puedes ejecutar: npm run dev
#
# ================================================

# Nombre de tu Worker (aparecerá en el dashboard de Cloudflare)
name = "actionq"

# Punto de entrada principal
main = "src/index.tsx"

# Fecha de compatibilidad - determina qué APIs están disponibles
# Más info: https://developers.cloudflare.com/workers/configuration/compatibility-dates/
compatibility_date = "2026-01-20"

# ================================================
# BASE DE DATOS D1
# ================================================
# 
# Para crear tu base de datos ejecuta:
#   npx wrangler d1 create actionq_db
#
# El comando te dará un output como:
#   [[d1_databases]]
#   binding = "DB"
#   database_name = "actionq_db"
#   database_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
#
# Copia el database_id y pégalo abajo:
#
[[d1_databases]]
binding = "DB"
database_name = "actionq_db"
database_id = "YOUR-D1-DATABASE-ID"

# ================================================
# CLOUDFLARE KV (Key-Value Store)
# ================================================
# 
# Para usar KV necesitas crear un namespace:
#   npx wrangler kv:namespace create "OTP_STORE"
#   npx wrangler kv:namespace create "OTP_STORE" --preview
#
# El comando te dará un binding como este:
#   [[kv_namespaces]]
#   binding = "OTP_STORE"
#   id = "xxxxxxxx"
#   preview_id = "xxxxxxxx"
#
# Descomenta las líneas de abajo y reemplaza los IDs:
#
[[kv_namespaces]]
binding = "ACTIONQ_OTP_STORE"
id = "YOUR-KV-ID"

# ================================================
# VARIABLES DE ENTORNO (No sensibles)
# ================================================
# 
# Puedes definir variables no sensibles aquí.
# Para SECRETOS (APP_SECRET, etc.) usa:
#   npx wrangler secret put APP_SECRET
#
[vars]
APP_NAME = "ActionQ"
APP_VERSION = "1.0.0"
# URL base de la aplicación (para enlaces en emails)
# APP_URL = "https://tu-app.workers.dev"

# ================================================
# SECRETOS DE AUTENTICACIÓN
# ================================================
#
# Configura estos secretos usando:
#   npx wrangler secret put APP_SECRET
#   npx wrangler secret put ADMIN_INIT_EMAIL
#   npx wrangler secret put ADMIN_INIT_PASSWORD
#
# APP_SECRET: Clave para firmar cookies (mínimo 32 caracteres)
# ADMIN_INIT_EMAIL: Email del primer administrador
# ADMIN_INIT_PASSWORD: Contraseña temporal del admin

# ================================================
# SECRETOS DE ZEPTOMAIL (Emails transaccionales)
# ================================================
#
# Para habilitar el envío de correos, configura:
#   npx wrangler secret put ZEPTOMAIL_TOKEN
#   npx wrangler secret put ZEPTOMAIL_FROM_EMAIL
#   npx wrangler secret put ZEPTOMAIL_FROM_NAME
#
# ZEPTOMAIL_TOKEN: Tu API token de ZeptoMail
# ZEPTOMAIL_FROM_EMAIL: Email remitente (ej: noreply@tudominio.com)
# ZEPTOMAIL_FROM_NAME: Nombre del remitente (ej: "ActionQ Support")
#
# Para obtener credenciales:
# 1. Crea una cuenta en https://www.zoho.com/zeptomail/
# 2. Verifica tu dominio remitente
# 3. Genera un token en la sección "Email Sending > Technical details"

# ================================================
# CONFIGURACIÓN DE DESARROLLO LOCAL
# ================================================
#
# Para usar una DB local durante desarrollo:
# [env.dev]
# [[env.dev.d1_databases]]
# binding = "DB"
# database_name = "actionq_db-dev"
# database_id = "local"

# ================================================
# CONFIGURACIÓN DE PRODUCCIÓN (opcional)
# ================================================
# 
# Puedes tener configuraciones separadas por entorno:
# [env.production]
# name = "actionq-prod"
# [[env.production.d1_databases]]
# binding = "DB"
# database_name = "actionq_db-prod"
# database_id = "YOUR-PRODUCTION-D1-DATABASE-ID"
